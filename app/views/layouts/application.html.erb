<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>SimpleDiary</title>
    <%= csrf_meta_tags %>

    <!-- Bootstrap CSS-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <!-- app/assets/stylesheets -->
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <!-- app/assets/javascripts-->
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <!-- Bootstrap JavaScript-->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript">
      function getData() {
        var xmlhttp = createXMLHttpRequest(); //旧バージョンのIEなどに対応する場合
        //var xmlhttp = new XMLHttpRequest();

        xmlhttp.onreadystatechange = function() {
          if (xmlhttp.readyState == 4) {
            if (xmlhttp.status == 200) {
              var elem = document.getElementById("output");
              elem.innerText = xmlhttp.responseText;
            } else {
              alert("select date error : status = " + xmlhttp.status);
            }
          }
        }

        var dateControl = document.querySelector('input[type="date"]');
        xmlhttp.open("GET", "/date/"+dateControl.value);
        xmlhttp.send();

        location.reload();
      }

      function createXMLHttpRequest(){
        if(window.XMLHttpRequest){return new XMLHttpRequest()}
        if(window.ActiveXObject){
          try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}
          try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}
          try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}
        }
        return false;
      }

    </script>
  </head>

  <body>
    <%= render 'layouts/navbar' %>

    <div class="container">
      <%= render 'layouts/flash_messages' %>

      <%= yield %>
    </div>
  </body>
</html>
